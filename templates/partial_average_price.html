<section id="average-price" style="margin-top: 2rem; padding: 2.5rem; background: #fff; border-radius: 8px; box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);">

  <!-- Title Styled Like the Screenshot -->
  <h2 style="color: #4e4ffa; font-size: 1.5rem; text-transform: uppercase; font-weight: 700; margin-bottom: 1rem;">
    Average Price
  </h2>

  <!-- Form -->
  <form method="POST" action="/statistics#average-price" style="display: flex; flex-direction: column; gap: 1.5rem; max-width: 600px; margin: 0 auto;">
    <label for="airport_avg" style="font-size: 1rem; color: #444a57;">
      <h1>Enter Departure Airport IATA Code (e.g. CAI, JED):</h1>
    </label>
    <input type="text" id="airport_avg" name="airport_avg" required placeholder="e.g. CAI"
      style="padding: 12px 16px; font-size: 1rem; border: 1px solid #ccc; border-radius: 4px; outline: none; transition: border-color 0.3s ease;">
    <button type="submit" style="background: #4e4ffa; color: #fff; padding: 12px 24px; border: none; border-radius: 4px; font-family: 'Poppins', sans-serif; font-size: 1rem; cursor: pointer; transition: background 0.3s ease;">
      Search
    </button>
  </form>

  <!-- Result Section -->
  {% if from_airport_avg %}
    {% if avg_price is not none %}
      <div style="margin-top: 2rem; background: #f0f2ff; border-left: 4px solid #4e4ffa; padding: 20px; border-radius: 8px; box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);">
        <p style="font-size: 1rem; color: #444;"><strong>Airport:</strong> {{ from_airport_avg }}</p>
        <p style="font-size: 1rem; color: #444;"><strong>Average Price:</strong> USD {{ "%.2f"|format(avg_price) }}</p>
      </div>
    {% else %}
      <div style="margin-top: 2rem; background: #fafafa; border: 1px solid #eee; padding: 20px; border-radius: 8px; text-align: center; box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);">
        <p style="font-size: 1rem; color: #818998;">No upcoming flights found from "{{ from_airport_avg }}".</p>
      </div>
    {% endif %}
  {% endif %}
</section>
